{"type":"article","id":2299,"title":"膜乎页面看ID经验油猴脚本（GreaseMonkey Script）","uid":6900,"topics":[10,392,1560,2413,2416,2524],"contents":"考虑到最近膜乎的小号事件，特别制作了所有用户查看UID和人生经验的脚本。<br>\n<br>\n现在可以在每个用户名后面看到UID和人生经验。<br>\n效果图：<br>\n<a href=\"https://i.imgur.com/kR2dv6N.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/kR2dv6N.png\" alt=\"https://i.imgur.com/kR2dv6N.png\" style=\"max-width:100%\"></a><br>\n<a href=\"https://i.imgur.com/EHLPoB8.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/EHLPoB8.png\" alt=\"https://i.imgur.com/EHLPoB8.png\" style=\"max-width:100%\"></a><br>\n<br>\n安装步骤如下：<br>\n<br>\n<ol><li>在Chrome应用商店安装TamperMonkey</li><li>点它的图标，出来菜单，点“添加新脚本”，出现一个脚本编辑器（文本框）</li><li>复制下面的代码，粘到刚才那个框里面替换原来的内容</li><li>按Ctrl+S保存</li><li>现在你打开膜乎会看到每个人的UID和经验。</li></ol><br>\n<br>\n<pre><br>\n// ==UserScript==<br>\n// @name&nbsp; &nbsp; &nbsp; &nbsp;  mohu reputify<br>\n// @namespace&nbsp; &nbsp; http://mohu.rocks<br>\n// @version&nbsp; &nbsp; &nbsp; 1.0<br>\n// @description&nbsp; try to take down the world!<br>\n// @author&nbsp; &nbsp; &nbsp;  rebekka<br>\n// @include&nbsp; &nbsp; &nbsp; *mohu.rocks*<br>\n// @grant&nbsp; &nbsp; &nbsp; &nbsp; GM_openInTab<br>\n// ==/UserScript==<br>\n<br>\n// mohu reputify plugin<br>\n// by rebekka 2020/06/09<br>\n<br>\n(()=&gt;{<br>\n&nbsp; &nbsp; var gebcn = e=&gt; cn=&gt;e.getElementsByClassName(cn)<br>\n&nbsp; &nbsp; var foreach = a=&gt; f=&gt;{var r=[];for(var i=0;i&lt;a.length;i++){r.push(f(a[i]))}return r}<br>\n<br>\n&nbsp; &nbsp; function mark_everything(){<br>\n&nbsp; &nbsp; &nbsp; &nbsp; // user profile page show UID<br>\n&nbsp; &nbsp; &nbsp; &nbsp; var namediv = gebcn(document)('mod-head')<br>\n&nbsp; &nbsp; &nbsp; &nbsp; if(namediv.length&gt;0){<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; namediv = namediv[0]<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var uid = null<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var scripts = document.scripts<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach(scripts)(s=&gt;{<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; uid = uid || s.innerHTML.match(/questions\\/uid-(\\d{0,9})'/)<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; })<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(uid!==null){<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(uid.length==2){<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; uid = uid[1]<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; namediv.innerHTML = `(uid:${uid}) ` + namediv.innerHTML<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>\n&nbsp; &nbsp; &nbsp; &nbsp; }<br>\n<br>\n&nbsp; &nbsp; &nbsp; &nbsp; // username add UID and reputation<br>\n&nbsp; &nbsp; &nbsp; &nbsp; var reputify = d=&gt;{<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(d.innerHTML.includes('img src')){<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var da = d.attributes<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(da){<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var dai = da['data-id']<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var dar = da['data-reputation']<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(dai &amp;&amp; dar){<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var uid = dai.value<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var rep = dar.value<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; d.innerHTML += ` (UID:${uid} 经验:${rep})`<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>\n&nbsp; &nbsp; &nbsp; &nbsp; }<br>\n&nbsp; &nbsp; &nbsp; &nbsp; foreach(gebcn(document)('aw-user-name'))(reputify)<br>\n&nbsp; &nbsp; &nbsp; &nbsp; foreach(gebcn(document)('aw-user-name author'))(reputify)<br>\n&nbsp; &nbsp; }<br>\n<br>\n&nbsp; &nbsp; mark_everything()<br>\n<br>\n})()<br>\n</pre>","date":"2020-06-11","agreeCount":14,"discussionCount":0}