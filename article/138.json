{"type":"article","id":138,"title":"[多图注意] ER-X 折腾计划（附翻墙体验）","uid":6,"topics":[989,2413,4961],"contents":"不过一般小白是玩不起这么高举的东西的。<br>\n<br>\n这 RAM 和 Flash 算是比较大了。<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530185899190621.jpeg\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530185899190621.jpeg\" alt=\"https://mhimg.github.io/ueditor/20180628/1530185899190621.jpeg\" style=\"max-width:100%\"></a><br>\n<br>\neth 自然是 Linux 了，我的意思，，，<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530185955355312.jpeg\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530185955355312.jpeg\" alt=\"https://mhimg.github.io/ueditor/20180628/1530185955355312.jpeg\" style=\"max-width:100%\"></a><br>\n<br>\n<i>老杨</i>：那么是使用 IPv6 来（消音）还是使用其他方式（消音）呢？<br>\n<br>\n<i>Ishisashi</i>：当然是 IPv6 了，毕竟 IPv4 之前不是物理断网了么，，，<br>\n<br>\n先配置一下 IP，因为一开机肯定没有 DHCP。<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530185976682782.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530185976682782.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530185976682782.png\" style=\"max-width:100%\"></a><br>\n<br>\n打开配置页面中……<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186006354977.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186006354977.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186006354977.png\" style=\"max-width:100%\"></a><br>\n<br>\n我谔谔事不信任证书，，，<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186026148525.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186026148525.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186026148525.png\" style=\"max-width:100%\"></a><br>\n<br>\n先登录为敬。<br>\n<br>\n然后直接进行文明大脑升级，，，<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186065462721.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186065462721.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186065462721.png\" style=\"max-width:100%\"></a><br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186072368489.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186072368489.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186072368489.png\" style=\"max-width:100%\"></a><br>\n<br>\n（上传完后）<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186082321509.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186082321509.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186082321509.png\" style=\"max-width:100%\"></a><br>\n<br>\n（进行网络设置中……）<br>\n<br>\n<i>InSb Kwaku</i>：什么这么高举。<br>\n<br>\n<i>Ishisashi</i>：然后根据一些资料，这个 EdgeOS 似乎是基于 Debian 的。<br>\n<br>\n<i>老杨</i>：去他（消音）的物理断网（绝望）<br>\n<br>\n基于 Dabian 的。（幻视）<br>\n<br>\n<i>InSb Kwaku</i>：厉害。<br>\n<br>\n所以说这是要做什么。<br>\n<br>\n<i>Ishisashi</i>：在路由器上进行科学 XX。<br>\n<br>\n<i>InSb Kwaku</i>：可以。<br>\n<br>\n<i>Ishisashi</i>：所以现在需要个 Putty，这样能进行比较高举的配置。<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186138687911.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186138687911.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186138687911.png\" style=\"max-width:100%\"></a><br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186149181400.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186149181400.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186149181400.png\" style=\"max-width:100%\"></a><br>\n<br>\n用 Excel 随机生成个 IPv6 ULA Prefix，比较公平（大嘘）<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186160641925.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186160641925.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186160641925.png\" style=\"max-width:100%\"></a><br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186167307055.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186167307055.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186167307055.png\" style=\"max-width:100%\"></a><br>\n<br>\n（打开硬件 NAT）<br>\n[h]（2018 年 6 月 26 日——刷 OpenWrt）[/h]<br>\n<i>Ishisashi</i>：当然我现在其实打算刷 OpenWrt 了，因为 EdgeOS 太高举了，玩不动（不如说是部分配置复杂到亲妈都不认识）<br>\n<br>\nOpenWrt 也快支持 MT7621 的硬件 NAT 了，这样性能和 EdgeOS 其实没差（反正都是 Linux）况且想刷回来也只要一条 TTL 线就够了。<br>\n<br>\n（顺便所谓「宽带绿通」我入恁娘，，，）<br>\n<br>\n与其说是配置复杂，不如说根本就是表面复杂实际不完善的配置。<br>\n<br>\n我就是分配个 IPv6 ULA 都没法好好分配了（DHCPv6 和 RA 当然都试过，似乎不太有效）<br>\n<br>\n（不过感觉是能用才有鬼吧……毕竟官方曾经倒还明确 EdgeMax「不支持 DHCPv6 Server」，当然不知道现在的版本如何）<br>\n<br>\n所以，开刷！<br>\n<br>\n首先把镜像回退至原厂。<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186339544915.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186339544915.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186339544915.png\" style=\"max-width:100%\"></a><br>\n<br>\n重启。为了腾出空间可以直接把升级后的镜像削除（反正那个镜像也是官网下载的，随时能下载回来）<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186352999586.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186352999586.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186352999586.png\" style=\"max-width:100%\"></a><br>\n<br>\n先在<br>\n<br>\n然后在 CLI 添入镜像。<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186432189855.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186432189855.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186432189855.png\" style=\"max-width:100%\"></a><br>\n<br>\n直接重启。<br>\n<br>\n本来 EdgeOS 默认是 eth0 为 LAN 的，现在就要把网线插到 eth1，因为 OpenWrt 是这样的。<br>\n<br>\n原本 EdgeOS 的用户名是 ubnt，现在用 root。<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186459344010.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186459344010.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186459344010.png\" style=\"max-width:100%\"></a><br>\n<br>\n依法炮制，用 SCP 塞入新版镜像。<br>\n<br>\n然后怎么办？sysupgrade 啊。<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186475677447.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186475677447.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186475677447.png\" style=\"max-width:100%\"></a><br>\n<br>\n虽然会报错，但是是正常现象。<br>\n<br>\n噔噔咚！LEDE 出来叻，，，<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186493139649.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186493139649.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186493139649.png\" style=\"max-width:100%\"></a><br>\n<br>\n然后再以 LEDE 17.01.4 作为跳板，刷入 OpenWrt 18.06.0-rc1，并清空设置。<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186519666515.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186519666515.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186519666515.png\" style=\"max-width:100%\"></a><br>\n<br>\n便乘 OpenWrt 了呢（笑）<br>\n<br>\n不过按照一些资料，OpenWrt 18.06.0 将会支持 MT7621 的硬件 NAT，这波不亏（至少比起 EdgeOS 那即使使用 CLI 老亲妈都不认识的野鸡设置来说……）<br>\n<br>\n然后发现 IPv6 地址分配正常了，，，<br>\n<br>\n查阅一些资料，OpenWrt 应该是如此启用硬件 NAT 的：<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186546584483.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186546584483.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186546584483.png\" style=\"max-width:100%\"></a><br>\n<br>\nao！支持！威武！有希望叻！！！111111111111111111<br>\n[h]（2018 年 6 月 27 日——蝌穴上网）[/h]<br>\n<i>Ishisashi</i>：顺便在路由器安装了某种软件，嗯，OC！<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186645942849.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186645942849.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186645942849.png\" style=\"max-width:100%\"></a><br>\n<br>\n<i>InSb Kwaku</i>：疯狂思考。<br>\n<br>\n<i>Ishisashi</i>：<a href=\"https://mhimg.github.io/ueditor/20180628/1530186676182194.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186676182194.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186676182194.png\" style=\"max-width:100%\"></a><br>\n<br>\n竟然还够用。<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186685517027.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186685517027.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186685517027.png\" style=\"max-width:100%\"></a><br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186700920060.jpeg\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186700920060.jpeg\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186700920060.jpeg\" style=\"max-width:100%\"></a><br>\n<br>\n<i>老杨</i>：<a href=\"https://mhimg.github.io/ueditor/20180628/1530186715936100.jpeg\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186715936100.jpeg\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186715936100.jpeg\" style=\"max-width:100%\"></a><br>\n<br>\n<i>InSb Kwaku</i>：厉害了。<br>\n<br>\n<i>Ishisashi</i>：<a href=\"https://mhimg.github.io/ueditor/20180628/1530186746975245.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186746975245.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186746975245.png\" style=\"max-width:100%\"></a><br>\n<br>\n同时还建了本地 hosts，这样用手机都好上维基百科。<br>\n<br>\n有时候我在想，我往 ER-X 刷 OpenWrt 是不是暴殄天物了（<br>\n<br>\n但是就 EdgeOS 那体验来看，好像不亏，而且 OpenWrt 也快有硬件 NAT（<br>\n<br>\n<i>羽浮风</i>：<a href=\"https://mhimg.github.io/ueditor/20180628/1530186777188922.jpeg\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186777188922.jpeg\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186777188922.jpeg\" style=\"max-width:100%\"></a><br>\n<br>\n刷了 OpenWrt 之后信号变差了好多，开源驱动这个动力不够强劲。<br>\n<br>\n<i>Ishisashi</i>： 反正 ER-X 是有线路由。<br>\n<br>\n<i>羽浮风</i>：<a href=\"https://mhimg.github.io/ueditor/20180628/1530186793434870.jpeg\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186793434870.jpeg\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186793434870.jpeg\" style=\"max-width:100%\"></a><br>\n<br>\n没玩过。我给我的小米路由刷过很多固件，最后感觉还是老毛子固件最好了。<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186806727365.gif\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186806727365.gif\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186806727365.gif\" style=\"max-width:100%\"></a><br>\n<br>\n然后我朋友家正好路由器坏了，我就把那个送给他用了。<br>\n<br>\n<i>Ishisashi</i>：虽然之前 Zenam 倒是说过「刷 OpenWrt 浪费」这种事情……但是现在 OpenWrt 快支持硬件 NAT 了，比起 EdgeOS 来说性能不会有差。<br>\n<br>\n中途刷入我用了两次跳板（其实只要用一次就够了，只不过我一开始不知道 18.06 出了 rc1）<br>\n<br>\n<i>Zenam</i>：<a href=\"https://mhimg.github.io/ueditor/20180628/1530186834745797.gif\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186834745797.gif\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186834745797.gif\" style=\"max-width:100%\"></a><br>\n<br>\n<i>Ishisashi</i>：<a href=\"https://mhimg.github.io/ueditor/20180628/1530186864799697.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186864799697.png\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186864799697.png\" style=\"max-width:100%\"></a><br>\n<br>\n科学上网软件有点吃内存，不过还很空余。<br>\n[h]（2018 年 6 月 28 日）[/h]<br>\n<i>Ishisashi</i>：打算在模糊发表这篇文章，那么先来拍张封面罢。<br>\n<br>\n<a href=\"https://mhimg.github.io/ueditor/20180628/1530186984966644.jpeg\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180628/1530186984966644.jpeg\" alt=\"https://mhimg.github.io/ueditor/20180628/1530186984966644.jpeg\" style=\"max-width:100%\"></a><br>\n<br>\n那么先讲讲配置叉叉网的经验。主要是先在电脑上配置好之后，再用 SCP 传到路由器上去。大家想放酸酸乳也可以试试，毕竟 Flash 足足有 256 MiB。<br>\n<br>\n传上去之后在叉叉网目录 chmod +x start，就可以执行了。<br>\n<br>\n顺便设置个开机自启动，每次开机都会自动运行叉叉网，无缝蝌穴上网。<br>\n[h]纸糊评论阅读（2018 年 6 月 29 日）[/h]<br>\n<i>刘冠伟</i>：我是编码群里的左，到底还是买 erx 了呀哈哈……<br>\n<br>\n<i>Ishisashi</i>：被你成功种草，，，<br>\n[h]（2018 年 6 月 29 日）[/h]<br>\n<i>Ishisashi</i>：<a href=\"https://mhimg.github.io/ueditor/20180629/1530278614121054.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://mhimg.github.io/ueditor/20180629/1530278614121054.png\" alt=\"https://mhimg.github.io/ueditor/20180629/1530278614121054.png\" style=\"max-width:100%\"></a><br>\n<br>\n跑了半天内存还剩这么多，，，看来如果跑酸酸乳也足够了，，，（这还是我挂着 XX-Net 的情况下）<br>\n<br>\n<i>InSb Kwaku</i>：完全够啊。","date":"2018-06-28","agreeCount":1,"discussionCount":0}