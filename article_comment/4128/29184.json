{"type":"article_comment","id":29184,"parentType":"article","parentId":4128,"uid":5919,"contents":"刚刚review了品葱代码，找到一个可能的原因（未测试，仅仅是猜测）：<br>\nhttps://github.com/pincong/pincong-wecenter/blob/master/system/class/cls_format.inc.php<br>\n<pre>// 注意是引用<br>\n<br>\n\tpublic static function &amp;message(&amp;$text)<br>\n<br>\n\t{<br>\n<br>\n\t\t$text = self::text($text);<br>\n<br>\n<br>\n<br>\n<br>\n\t\treturn nl2br($text);<br>\n<br>\n\t}<br>\n</pre><br>\n<a href=\"https://www.php.net/manual/en/function.nl2br.php\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">nl2br函数的PHP官方手册介绍</a><br>\n所以这个问题应该是Windows、Linux、macOS对换行的处理不同所致。不过我几年没碰PHP，忘记用哪个函数处理了，我去翻一下手册。","date":"2020-11-10","agreeCount":0,"discussionCount":0}